const CSS_PATH = "./assets/css/render.min.css", FIRST_UL_SELECTOR = "ul:first-of-type"; function addTargetBlankToLinks(e) { e.querySelector(FIRST_UL_SELECTOR); e.querySelectorAll("a:not(ul:first-of-type a)").forEach((e => { e.target = "_blank" })) } function renderMarkdown() { const e = document.getElementById("uploadedFile").files[0], t = new FileReader; t.onload = function (e) { const t = e.target.result, n = marked(t), o = document.createElement("div"); o.innerHTML = n; o.querySelectorAll("code").forEach((e => { const t = e.className.replace(/^language-/, ""); t && Prism.languages[t] && (e.innerHTML = Prism.highlight(e.textContent, Prism.languages[t], t)) })); const l = window.open(""); l.document.write(o.innerHTML), l.addEventListener("load", (function () { addTargetBlankToLinks(l.document); const e = l.document.createElement("link"); e.rel = "stylesheet", e.type = "text/css", e.href = CSS_PATH, l.document.body.appendChild(e); const t = l.document.querySelector("h1")?.innerText; l.document.title = t || "Result" })), l.document.close() }, t.readAsText(e) }